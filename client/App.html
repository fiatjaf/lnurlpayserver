<!-- @format -->

<script>
  import {onMount, setContext} from 'svelte'
  import {NotificationDisplay, notifier} from '@beyonk/svelte-notifications'
  import Router from 'svelte-spa-router'

  import Home from './Home.html'
  import EditShop from './EditShop.html'
  import Shop from './Shop.html'
  import Template from './Template.html'
  import EditTemplate from './EditTemplate.html'
  import Invoice from './Invoice.html'
  import Docs from './Docs.html'
  import NotFound from './NotFound.html'

  setContext('notifier', notifier)

  const routes = {
    '/': Home,
    '/shop': EditShop,
    '/shop/:shopId': Shop,
    '/shop/:shopId/edit': EditShop,
    '/shop/:shopId/template': EditTemplate,
    '/shop/:shopId/template/:templateId': Template,
    '/shop/:shopId/template/:templateId/edit': EditTemplate,
    '/shop/:shopId/invoice/:invoiceId': Invoice,
    '/docs': Docs,
    '*': NotFound
  }
</script>

<NotificationDisplay />

<header>
  <a href="#/">
    <img alt="lnurlpayserver logo" src=/public/logo.png>
  </a>
  <a href="#/">
    <h1>lnurlpayserver</h1>
  </a>
</header>
<nav>
  <a href="#/">Home</a>
  <a href="#/docs">Docs</a>
</nav>
<main><Router {routes} /></main>
<footer>
  <p>
    powered by <a href="https://github.com/fiatjaf/awesome-lnurl/">lnurl</a>
  </p>
</footer>

<style>
  header {
    display: flex;
    align-items: center;
  }
  nav {
    display: flex;
    justify-content: space-around;
  }
  img {
    max-height: 40px;
  }
  footer {
    margin-top: 200px;
  }
</style>
